name: TrueBlocksCore

services:
  core:
    image: trueblocks/core:v0.41.0-beta
    build: ./build/core
    ports:
      - "8080:8080"
    env_file: .env
    volumes:
      - unchained:/unchained
      - cache:/cache

  monitors:
    depends_on:
      - core
    restart: unless-stopped
    image: trueblocks/monitors:v0.41.0-beta
    build: ./build/monitors
    env_file: .env
    volumes:
      - unchained:/unchained
      - cache:/cache
      - exports:/exports
      - monitors:/monitors

volumes:
  unchained:
  cache:
  exports:
  monitors:
