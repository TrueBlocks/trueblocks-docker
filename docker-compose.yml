name: TrueBlocksCore
services:
  core:
    image: trueblocks/core:0.40.2-beta
    build: ./build/core
    ports:
      - "8080:8080"
    env_file: .env
    volumes:
      - Index:/index
      - Cache:/cache

  monitors:
    depends_on:
      - core
    restart: unless-stopped
    image: trueblocks/monitors:0.40.2-beta
    build: ./build/monitors
    env_file: .env
    volumes:
      - Index:/index
      - Cache:/cache
      - exports:/exports
      - addresses:/addresses

volumes:
  Index:
  Cache:
  exports:
  addresses:
